////////////////////////////////////////////////////////////////////////////////////////////////////
//
// File: simulator.h
// Author: Nhat Khai Nguyen
//
////////////////////////////////////////////////////////////////////////////////////////////////////

#ifndef _SIMULATOR_H_
#define _SIMULATOR_H_

#define DEBUG

#include <algorithm>
#include <ctime>
#include <fstream>
#include <iomanip>
#include <iostream>
#include <random>
#include <sstream>
#include <string>

#include "../FEC/fec.h"
#include "../FFA/ffa.h"
#include "../Maths/maths.h"

using namespace std;

////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////

// #define INTERFACE 2
// #define ITERATION 5

#define INTERFACE 4
#define ITERATION 10

// #define INTERFACE 8
// #define ITERATION 20

// #define INTERFACE 16
// #define ITERATION 60

////////////////////////////////////////////////////////////////////////////////////////////////////

#define BIN0 Element(false)
#define BIN1 Element(true)

////////////////////////////////////////////////////////////////////////////////////////////////////

// int INT0 = 2;
// Polynomial POL0(&fields::default_field, {BIN1, BIN1, BIN0, BIN0, BIN1});

int INT0 = 8;
Polynomial POL0(&fields::default_field, {BIN1, BIN0, BIN1, BIN1, BIN1, BIN0, BIN0, BIN0, BIN1});

Field FIE0(&POL0);
RS RS0(&FIE0, INT0);
#define ELE(i) FIE0.general_elements[i]

////////////////////////////////////////////////////////////////////////////////////////////////////

random_device random_source;
mt19937 random_engine(random_source());

////////////////////////////////////////////////////////////////////////////////////////////////////

#include "helper.cpp"
#include "generator.cpp"
#include "encoder.cpp"
#include "channel.cpp"
#include "decoder.cpp"

#endif

////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////